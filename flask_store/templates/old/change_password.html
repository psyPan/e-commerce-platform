{% extends "index.html" %}

{% block navbar %}
<div class="navbar">
    <div class="logo">
        <a href="{{ url_for('users.home') }}">Our Logo</a>
    </div>
    <div class="nav-links">
        <a href="{{ url_for('users.home') }}">Home</a>
        <a href="{{ url_for('users.logout') }}">Log Out</a>
    </div>
</div>
{% endblock navbar %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='style/home.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='style/credit_card.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='style/change_password.css') }}">

<div class="credit-wrapper">

    <!-- SIDEBAR -->
    <div class="side-menu">
        <a class="side-btn" href="{{ url_for('users.profile') }}">My Profile</a>
        <a class="side-btn" href="{{ url_for('users.credit') }}">My Credit Card</a>
        <a class="side-btn active" href="{{ url_for('users.change_password') }}">Change Password</a>
        <a class="side-btn" href="{{ url_for('users.order_history') }}">Order History</a>
        <a class="side-btn" href="{{ url_for('users.my_cart') }}">My Cart</a>
    </div>

    <!-- MAIN -->
    <div class="credit-container profile-container">
        <div class="profile-card">

            <h1 class="profile-title">Change Password</h1>

            <form class="password-form" method="POST" action="">
                {{ form.hidden_tag() }}
                <div class="profile-form-row">
                    {{ form.current_password.label(class="form-label") }}
                    {% if form.current_password.errors %}
                        {{ form.current_password(class="form-input is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.current_password.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.current_password(class="profile-input") }}
                    {% endif %}
                </div>

                <div class="profile-form-row">
                    {{ form.new_password.label(class="form-label") }}
                    {% if form.new_password.errors %}
                        {{ form.new_password(class="form-input is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.new_password.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.new_password(class="profile-input") }}
                    {% endif %}
                </div>

                <div class="profile-form-row">
                    {{ form.confirm_password.label(class="form-label") }}
                    {% if form.confirm_password.errors %}
                        {{ form.confirm_password(class="form-input is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.confirm_password.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.confirm_password(class="profile-input") }}
                    {% endif %}
                </div>

                <div class="profile-actions-form">
                    {{ form.submit(class="btn-gold") }}
                </div>

            </form>

        </div>
    </div>

</div>

{% endblock %}
